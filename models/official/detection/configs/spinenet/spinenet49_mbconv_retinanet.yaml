# SpineNet49-MBConv + RetinaNet. 28.4% mAP, 1.0B FLOPs, 2.5M Params.

enable_summary: True
architecture:
  backbone: 'spinenet_mbconv'
  multilevel_features: 'identity'
train:
  total_steps: 277800
  train_batch_size: 256
  learning_rate:
    type: 'step'
    warmup_learning_rate: 0.0067
    warmup_steps: 2000
    init_learning_rate: 0.28
    learning_rate_levels: [0.028, 0.0028, 0.00028]
    learning_rate_steps: [259280, 268540, 273170]
  checkpoint:
    path: ''
    prefix: ''
    skip_variables_regex: ''
  l2_weight_decay: 0.00003
  gradient_clip_norm: 0.0
anchor:
  min_level: 3
  max_level: 7
  anchor_size: 3.0
batch_norm_activation:
  batch_norm_epsilon: 0.001
  batch_norm_momentum: 0.997
  batch_norm_trainable: true
  use_sync_bn: true
  activation: 'swish'
retinanet_head:
  min_level: 3
  max_level: 7
  retinanet_head_num_filters: 48
  retinanet_head_num_convs: 4
  use_separable_conv: True
spinenet_mbconv:
  filter_size_scale: 1.0
  block_repeats: 1
  endpoints_num_filters: 48
  min_level: 3
  max_level: 7
  use_native_resize_op: False
postprocess:
  min_level: 3
  max_level: 7
retinanet_parser:
  output_size: [384, 384]
  aug_scale_min: 0.5
  aug_scale_max: 2.0
  use_autoaugment: False
